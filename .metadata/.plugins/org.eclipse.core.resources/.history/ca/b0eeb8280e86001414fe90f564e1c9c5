package com.flipkart.programs;

import java.util.HashMap;

public class LRUCache<K,V> {

	/**
	 * Linkedlist + Hashmap
	 */
	private Node head, tail ;
	private HashMap<K, V> map = new HashMap<K,V>();
	private static final int CAPACTITY = 10;
	private int currentSize = 0;
	
	private static class Node<K,V>{
		Node next;
		Node prev;
		V val;
		public Node(Node prev, Node next, V val) {
			this.prev = prev;
			this.next = next;
			this.val = val;
		}
	}
	
	public void put(K key, V val){
		map.put(key, val);
		addToLinkedList(val);
		
	}
	
	private void addToLinkedList(V val) {
		if (head==null){
			Node<K,V> newNode = new Node<K, V>(null, null ,val) ;
			head = newNode; tail = newNode;
			currentSize++;
		}else {
			//Capacity check 
			if(currentSize==CAPACTITY){
				Node<K,V> tmp = tail;
				tail.next.prev = null;
				tail = tail.next;
				tmp = null; currentSize--;
			}
			Node<K,V> newNode = new Node<K, V>(head, null ,val) ;
			head.next = newNode;
			head = newNode;
			currentSize++;
		}
	}

	public V get(K key){
		return map.get(key);
	}
	
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub

	}

}
