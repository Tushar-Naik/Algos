package com.flipkart.programs;

import java.util.Arrays;

public class SubStringSearch {

	/**
	 * @param args
	 */
	public static final String SEARCH = "FINDINAHAYSTACKNEEDLEINA";
	public static final String PATTERN = "NEEDLE";
	
	//O(M*N) can be O(N^2)
	public static void search(){
		int n = SEARCH.length();
		int m = PATTERN.length();
		int start =-1; int end =-1;
		for(int i = 0;i<n-m;i++){
			for(int j =0;j<m ; j++){
				System.out.println(SEARCH.charAt(j+i) +" "+PATTERN.charAt(j));
				if(SEARCH.charAt(j+i)!=PATTERN.charAt(j)){
					System.out.println("didnt match");break;
				}
				if(j==PATTERN.length()-1) {System.out.println("Matched "+i+" to "+ (i+PATTERN.length()-1)); start = i; end = (i+PATTERN.length()-1); return;}
			}
		}
		//VALIDATE
		for(int i = start;i<=end;i++){
			SEARCH.charAt(i);
		}
	}
	
	public static void searchBoyerMayer(){
		int R = 256;
		int [] right = new int[R];
		for(int i =0; i<R; i++){
			right[i]=-1;
		}
		
		//Precompute a right most occurance of char c in pattern -1 if not in pattern
		for(int i =0; i<PATTERN.length(); i++){
			right[PATTERN.charAt(i)] = i;    // NEEDLE right[]
		}
		
		System.out.println(Arrays.asList(right));
	}
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		search();
		searchBoyerMayer();

	}

}
